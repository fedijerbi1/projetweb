<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> 
    <link rel="stylesheet" href="style.css">
    <!-- SweetAlert2 CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

<!-- SweetAlert2 JS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
<script > 
    document.addEventListener('DOMContentLoaded', function() {
        Swal.fire({
            title: 'Welcome!',
            text: 'Welcome to our website!',
            icon: 'info',
            confirmButtonText: 'Close'
        });
    }); 
function test(event){ 
    event.preventDefault () ;  
const name = document.getElementById ("name") ; 
const  destination = document.getElementById ("destination") ; 
const date1 = document.getElementById ("date1") ;
const date2 = document.getElementById ("date2") ;
const number = document.getElementById ("number") ; 
const email = document.getElementById ("email") ;  
const budget = document.getElementById ("budget") ; 


if (name.value==="" ){
    Swal.fire ({
        title : 'Nom Vider' , 
        text:'veuillez entrer Voter Nom ' ,  
        icon :'error' , 
        confirmButtonText : 'Fermer'

    }) ;  
} else if (destination.value===""){ 
    Swal.fire ({
        title : 'Destination Vider' , 
        text:'veuillez entrer Voter Destination ' ,  
        icon :'error' , 
        confirmButtonText : 'Fermer'

    }) ;
} else if (date1.value===""){ 
    Swal.fire ({
        title : 'Date De Depart Vider' , 
        text:'veuillez entrer Voter Date De Depart ' ,  
        icon :'error' , 
        confirmButtonText : 'Fermer'

    }) ; 
} else if (date2.value===""){ 
    Swal.fire ({
        title : 'Date De Retour Vider' , 
        text:'veuillez entrer Voter Date De Retour ' ,  
        icon :'error' , 
        confirmButtonText : 'Fermer'

    }) ; 
} else if (number.value===""){ 
    Swal.fire ({
        title : 'Nombre de Voyageur Vider' , 
        text:'veuillez entrer Voter Nombre de Voyageur ' ,  
        icon :'error' , 
        confirmButtonText : 'Fermer'

    }) ; 
} else if (email.value===""){ 
    Swal.fire ({
        title : 'Email Vider' , 
        text:'veuillez entrer Voter Email ' ,  
        icon :'error' , 
        confirmButtonText : 'Fermer'

    }) ;  }
    else if (!email.value.includes ("@")){ 
        Swal.fire ({
            title : 'Email Invalide' , 
            text:'veuillez entrer Voter Email Valide ' ,  
            icon :'error' , 
            confirmButtonText : 'Fermer'
    
        }) ; } 
        else if (Number (number.value) <=0 ){ 
            Swal.fire ({
                title : 'Nombre de Voyageur Invalide' , 
                text:'veuillez entrer Voter Nombre de Voyageur Valide ' ,  
                icon :'error' , 
                confirmButtonText : 'Fermer'
    
            }) ; } 
        else if (new Date (date2.value) <= new Date (date1.value) ){ 
            Swal.fire ({
                title : 'Dates Invalide' , 
                text:'La date de retour doit être postérieure à la date de départ ' ,  
                icon :'error' , 
                confirmButtonText : 'Fermer'
    
            }) ; } 
            else if (new Date (date1.value) < new Date ()){ 
                Swal.fire ({
                    title : 'Date de Depart Invalide' , 
                    text:'La date de départ doit être une date future ' ,  
                    icon :'error' , 
                    confirmButtonText : 'Fermer'
        
                }) ; } 
            else if (email.value=== ""&& name.value==="" && destination.value==="" && date1.value==="" && date2.value==="" && number.value==="" ){  
    Swal.fire ({
        title : 'Formulaire Vider' ,
        text:'Veuillez remplir le formulaire avant de le soumettre ' ,
        icon :'error' ,
        confirmButtonText : 'Fermer'
}) ; }  

else { 
    Swal.fire ({
        title : 'Succès' , 
        text:'Votre formulaire a été soumis avec succès ! ' ,  
        icon :'success' , 
        confirmButtonText : 'Fermer'

    }).then (()=>{ 
        duration = (new Date (date2.value) - new Date (date1.value)) / (1000 * 60 * 60 *24) ;
        const planning = {
            name : name.value ,  
            duration : duration , 
            destination : destination.value , 
            dateDeDepart : date1.value , 
            dateDeRetour : date2.value , 
            nombreDeVoyageur : number.value , 
            email : email.value , 
            budget : budget.value 
        } ; 
        const planningHtml = `<h2>Votre Planification de Voyage</h2> 
    <p><strong>Nom :</strong>  ${planning.name} </p>` 
    + `<p><strong>Destination :</strong>  ${planning.destination} </p>`
    + `<p><strong>Date De Depart :</strong>  ${planning.dateDeDepart} </p>`
    + `<p><strong>Date De Retour :</strong>  ${planning.dateDeRetour}
    </p>`
    + `<p><strong>Nombre de Voyageur :</strong>  ${planning.nombreDeVoyageur} </p>`
    + `<p><strong>Durée du Voyage (en jours) :</strong>  ${planning.duration} </p>`
    + `<p><strong>Email :</strong>  ${planning.email} </p>` +
    `<p><strong>Budget Total (en USD) :</strong>  ${planning.budget} </p>` ;
    document.getElementById ("planningResult").innerHTML = planningHtml ; 
    }  
    ) ;  
    

}  
 
} 
</script>
 </head>


<body>
    <header>
    <nav> 
        <a href="#home">Home</a> |
        <a href="#about">About</a> |
        <a href="#services">Services</a> |
        <a href="./contact.html">Contact</a> 
   </nav>   
   <div class="contrainer"> 
   <h1>Planifiez Votre Voyage </h1>
   <form id ="reservationForm">  
    <h2>Destination&Date</h2>
    <label>Destination : </label> 
    <input id ="destination" required /> 
    <label>Date De Depart </label> 
   <input type ="date" id ="date1"/> 
   <label>Date de Retour </label> 
   <input type="date" id ="date2"/> 
   <label>Nombre de Voyageur </label>  
   
   <input type="number" id="number" value="0"/> 
   <h2>Budget</h2> 
   <label>Budget Total (en USD) : </label> 
   <input type="number" id="budget" value="0"/>  
   <h2>Informations Personnelles </h2>   
   <label>Nom : </label> 
   <input type = "text" id="name"/>   
   <label>Email </label> 
   <input type="email" id="email" required /> 

   
   <button type="submit" onclick="test(event)">Generer Votre plantification </button> 
   <div id ="planningResult"></div> 

   </form> 
    </div> 
   </header> 
   <footer> 
    
   </footer>
</body>
</html>